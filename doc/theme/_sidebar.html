<% toc_level = (level, maxLevel, currentLevel=1) => %>

    <% for entry in level: %>
        <% if !entry.childs.length or currentLevel >= maxLevel: %>
            <a class="item" href="<%= @baseUrl %><%- entry.slug %>.html#<%= entry.anchor %>"><%= entry.title %></a>
        <% end %>

        <% if entry.childs.length and currentLevel < maxLevel: %>
            <div class="ui simple dropdown item">
                <a href="<%= @baseUrl %><%- entry.slug %>.html#<%= entry.anchor %>"><%= entry.title %></a> <i class="dropdown icon"></i>
                <div class="menu">
                    <%= toc_level(entry.childs, maxLevel, currentLevel + 1) %>
                </div>
            </div>
        <% end %>
    <% end %>
<% end %>

<div id="doc-sidebar">
    <a href="<%= @baseUrl %>all.html">Tout sur une seule page</a>
    <form action="<%= @baseUrl %>search.html"><input id="search" type="text" placeholder="Search" name="q" /></form>
    <nav id="doc-toc" class="ui vertical menu">
        <%= toc_level(@manifest.tableOfContent, @manifest.maxTocLevel) %>
    </nav>
    <% if @manifest.links: %>
    <nav id="doc-links">
        <ul>
            <% for link in @manifest.links: %>
            <li><a href="<%= link[1] %>"><%= link[0] %></a></li>
            <% end %>
        </ul>
    </nav>
    <% end %>
</div>
